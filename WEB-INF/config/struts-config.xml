<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts-config PUBLIC
          "-//Apache Software Foundation//DTD Struts Configuration 1.2//EN"
          "http://struts.apache.org/dtds/struts-config_1_2.dtd">
<struts-config>

	<form-beans>
		<form-bean name="BaseForm"
			type="org.apache.struts.action.DynaActionForm">
		</form-bean>
		
		<form-bean name="loginForm"
			type="org.apache.struts.action.DynaActionForm">
			<form-property name="loginName" type="java.lang.String" />
			<form-property name="password" type="java.lang.String" />
		</form-bean>
		
		<form-bean name="registeForm"
			type="org.apache.struts.action.DynaActionForm">
			<form-property name="loginName" type="java.lang.String" />
			<form-property name="userName" type="java.lang.String" />
			<form-property name="password1" type="java.lang.String" />
			<form-property name="password2" type="java.lang.String" />
		</form-bean>
		
		<form-bean name="iouserListForm"
			type="org.apache.struts.action.DynaActionForm">
			<form-property name="userName" type="java.lang.String" />
		</form-bean>
	</form-beans>
	<global-forwards>
		<forward name="error" path="/error.jsp"/>
		<forward name="login" path="/login.jsp" redirect="true"/>
		<forward name="index" path="/index.jsp" redirect="true"/>
	</global-forwards>

	<!-- ============================ 用户管理 ============================-->
	<action-mappings>
		<action path="/logout" scope="request" parameter="logout" />
		<action path="/changePwd" scope="request" parameter="changePwd" />
		<action path="/login"
                name="loginForm"
                scope="request"
                parameter="login"
                input="input">
                <forward name="input" path="/login.jsp"/>
        </action>
		
		<action path="/registe"
                name="registeForm"
                scope="request"
                parameter="registe"
                input="input">
                <forward name="input" path="/registe.jsp"/>
                <forward name="success" path="/login.do"/>
        </action>
	
	<!-- ============================ 借入/出款项用户管理 ============================-->
		<action path="/iouser/add" scope="request" parameter="addUser" />
		<action path="/iouser/delete" scope="request" parameter="deleteUser" />
		<action path="/iouser/update" scope="request" parameter="updateUser" />
		<action path="/iouser/check" scope="request" parameter="check" />
		<action path="/iouser/load" scope="request" parameter="loadUser" />
		<action path="/iouser/count" scope="request" parameter="count" />
		<action path="/iouser/iouserList"
                name="BaseForm"
                scope="request"
                parameter="userList">
                <forward name="success" path="/iouser/iouserList.jsp"/>
        </action>
        
        <action path="/iouser/addGroup" scope="request" parameter="addGroup" />
        <action path="/iouser/loadGroup" scope="request" parameter="loadGroup" />
        <action path="/iouser/updateGroup" scope="request" parameter="updateGroup" />
        <action path="/iouser/deleteGroup" scope="request" parameter="deleteGroup" />
        <action path="/iouser/groupList"
                name="BaseForm"
                scope="request"
                parameter="groupList">
                <forward name="success" path="/iouser/groupList.jsp"/>
        </action>
        
    <!-- ============================ 人员树管理 ============================-->
    	<action path="/tree/getUserTree" scope="request" parameter="getUserTree" />
    	<action path="/tree/getGroupTree" scope="request" parameter="getGroupTree" />
    
	<!-- ============================ 物品类型管理 ============================-->
		<action path="/goods/type/add" scope="request" parameter="addGoodsType" />
		<action path="/goods/type/delete" scope="request" parameter="deleteGoodsType" />
		<action path="/goods/type/update" scope="request" parameter="updateGoodsType" />
		<action path="/goods/type/isExist" scope="request" parameter="isExist" />
		<action path="/goods/type/load" scope="request" parameter="loadGoodsType" />
		<action path="/goods/type/allType" scope="request" parameter="getAllType" />
		<action path="/goods/type/count" scope="request" parameter="count" />
		<action path="/goods/type/goodsTypeList"
				name="BaseForm"
                scope="request"
                parameter="goodsTypeList">
                <forward name="success" path="/goods/type/goodsTypeList.jsp"/>
        </action>
        
    <!-- ============================ 物品详细管理 ============================-->
    	<action path="/goods/detail/add" scope="request" parameter="addGoodsDetail" />
		<action path="/goods/detail/delete" scope="request" parameter="deleteGoodsDetail" />
		<action path="/goods/detail/update" scope="request" parameter="updateGoodsDetail" />
		<action path="/goods/detail/load" scope="request" parameter="loadGoodsDetail" />
		<action path="/goods/detail/getAllUnit" scope="request" parameter="getAllUnit" />
		<action path="/goods/detail/count" scope="request" parameter="count" />
    	<action path="/goods/detail/goodsDetailList"
				name="BaseForm"
                scope="request"
                parameter="goodsDetailList">
                <forward name="success" path="/goods/detail/goodsDetailList.jsp"/>
        </action>
        
    <!-- ============================ 借入/借出管理 ============================-->
    	<action path="/finance/addMoney" scope="request" parameter="addFinanceMoney" />
		<action path="/finance/deleteMoney" scope="request" parameter="deleteFinanceMoney" />
		<action path="/finance/loadMoney" scope="request" parameter="loadFinanceMoney" />
		<action path="/finance/updateMoney" scope="request" parameter="updateFinanceMoney" />
		<action path="/finance/count" scope="request" parameter="count" />
		<action path="/finance/repay" scope="request" parameter="repay" />
    	<action path="/finance/listMoney"
				name="BaseForm"
                scope="request"
                parameter="listMoney">
                <forward name="success" path="/finance/financeMoneyList.jsp"/>
        </action>
        
    <!-- ============================ 聊天室管理 ============================-->
    	<action path="/talk/addMsg" scope="request" parameter="addMessage" />
    	<action path="/talk/getMsg" scope="request" parameter="getMessage" />
    	
    <!-- ============================ 测试管理 ============================-->
    	<action path="/test/upload/fileupload" scope="request" parameter="upload" />
	</action-mappings>

	<controller
		processorClass="org.springframework.web.struts.DelegatingRequestProcessor"
		inputForward="true" />
	<!-- ===================================== Message Resources Definitions  -->
	<message-resources parameter="resource" />

	<!-- ======================================= Plug Ins Configuration -->
	<!--表示要载入的配置文件，用于整合spring框架-->
	<plug-in
		className="org.springframework.web.struts.ContextLoaderPlugIn">
		<set-property property="contextConfigLocation"
			value="/WEB-INF/config/applicationContext.xml,
                   /WEB-INF/config/daoContext.xml,
                   /WEB-INF/config/action-servlet.xml" />
	</plug-in>
</struts-config>
